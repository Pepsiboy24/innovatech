<!-- <<<<<<< HEAD
// content from the current branch (main)
=======
// content from the branch being merged (master)
>>>>>>> master -->

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EduHub - My Classes</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="../../styles/schoolAdminStyles/classes.css">
  </head>
  <body>
    <div id="app">
      <!-- Sidebar -->
      <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
          <div class="logo">
            <i class="fas fa-graduation-cap"></i>
            <span>EduHub</span>
          </div>
          <button class="menu-toggle" id="menuToggle">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <nav class="sidebar-nav">
          <a href="./schoolAdminDashboard.html" class="sidebar-item">
          <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
          </svg>
          <span>Dashboard</span>
        </a>
        <a href="./students.html" class="sidebar-item">
          <svg class="nav-icon" viewBox="0 0 20 20">
              <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"/>
          </svg>
          <span>Students</span>
        </a>
        <a href="./teachers.html" class="sidebar-item">
          <svg class="nav-icon" viewBox="0 0 20 20">
              <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"/>
          </svg>
          <span>Teachers</span>
        </a>
        <a href="#" class="sidebar-item">
          <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
          </svg>
          <span>Schedule</span>
        </a>
        <a href="./timeTable.html" class="sidebar-item">
          <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="16" y1="2" x2="16" y2="6"></line>
            <line x1="8" y1="2" x2="8" y2="6"></line>
            <line x1="3" y1="10" x2="21" y2="10"></line>
          </svg>
          <span>Time Table</span>
        </a>
        <a href="#" class="sidebar-item">
          <svg class="nav-icon" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M6 6V5a3 3 0 013-3h2a3 3 0 013 3v1h2a2 2 0 012 2v3.57A22.952 22.952 0 0110 13a22.95 22.95 0 01-8-1.43V8a2 2 0 012-2h2zm2-1a1 1 0 011-1h2a1 1 0 011 1v1H8V5zm1 5a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z" clip-rule="evenodd" />
          </svg>
          <span>Attendance</span>
        </a>
        <a href="#" class="sidebar-item">
          <svg class="nav-icon" viewBox="0 0 20 20">
              <path d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"/>
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z" clip-rule="evenodd" />
          </svg>
          <span>Fees</span>
        </a>
          <a href="#" class="nav-item active">
            <i class="fas fa-th-large"></i>
            <span>Classes</span>
          </a>
        </nav>
      </aside>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Top Bar -->
        <header class="top-bar">
          
          <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" placeholder="Search classes..." />
          </div>
          <div class="top-bar-actions">
            <button class="notification-btn">
              <i class="fas fa-bell"></i>
              <span>Notifications</span>
            </button>
            <div class="user-avatar">
              <img src="https://i.pravatar.cc/150?img=1" alt="User" />
            </div>
          </div>
          <button class="mobile-menu-btn" id="mobileMenuBtn">
            <i class="fas fa-bars"></i>
          </button>
        </header>

        <!-- Classes Section -->
        <section class="classes-section">
          <div class="section-header">
            <h1>My Classes</h1>
            <button class="btn-primary" id="createClassBtn">
              <i class="fas fa-plus"></i>
              <span>Create New Class</span>
            </button>
          </div>

          <div class="filter-bar">
            <select class="filter-select" id="filterSelect">
              <option value="all">All</option>
              <option value="active">Active</option>
              <option value="archived">Archived</option>
            </select>
          </div>

          <div class="classes-grid" id="classesGrid" data-container>
            <!-- Classes will be dynamically loaded here -->
             <template data-template>
              <div class="card">
                <header>
                    <h2 data-class-name>JSS 2 <span data-class-section></span></h2>
                    <p>Junior Secondary School 2</p>
                </header>
                <div class="body">
                    <p>Teacher: <span data-teacher-name>Mr John</span></p>
                    <p>Students: <span data-student-no>45</span></p>
                </div>
                <div class="footer">
                    <div class="editBtn cardBtnIcon">
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
                        </svg>
                    </div>
                    <div class="viewBtn cardBtnIcon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye">
                            <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/>
                            <circle cx="12" cy="12" r="3"/>
                        </svg>
                    </div>
                </div>
             </div>
             </template>
          </div>
        </section>
      </main>
    </div>

    <!-- Create Class Modal -->
    <div class="modal" id="createClassModal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Create New Class</h2>
          <button class="modal-close" id="closeModal">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <form id="createClassForm">
          <div class="form-group">
            <label for="className">Class Name</label>
            <input type="text" id="className" required placeholder="e.g., Junior Secondary School 1" />
            <!-- <select id="classTitleSelect" required>
              <option value="">Select Class</option>
            </select> -->
            <input type="text" id="newClassTitle" placeholder="Enter new class name" style="display:none; margin-top: 10px;" />
          </div>
          <div class="form-group">
            <label for="section">Section</label>
            <input type="text" id="section" required placeholder="e.g., A, B, C, Sci, Sci 1" />
          </div>
          <div class="form-group">
            <label for="teacherSelect">Teacher Name</label>
            <div class="searchable-dropdown">
              <input type="text" id="teacherSearchInput" placeholder="Search teachers..." autocomplete="off" data-searchBar>
              <!-- <div class="dropdown-arrow">â–¼</div> -->
              <div class="dropdown-options" id="teacherDropdownOptions" data-dropDownBox>
                <!-- Options will be populated by JS -->
              </div>
            </div>
            <!-- Hidden select for form submission -->
            <!-- <select id="teacherSelect" required style="display: none;">
              <option value="">Select Teacher</option>
            </select> -->
          </div>
          <div class="form-group">
            <label for="studentsCount">Number of Students</label>
            <input type="number" id="studentsCount" required min="0" value="0" />
          </div>
          <div class="form-group">
            <label for="classIcon">Icon</label>
            <select id="classIcon">
              <option value="book">Book</option>
              <option value="flask">Flask</option>
              <option value="calculator">Calculator</option>
              <option value="atom">Atom</option>
              <option value="palette">Palette</option>
              <option value="globe">Globe</option>
              <option value="lightbulb">Lightbulb</option>
              <option value="laptop">Laptop</option>
            </select>
          </div>
          <div class="modal-actions">
            <button type="button" class="btn-secondary" id="cancelBtn">Cancel</button>
            <button type="submit" class="btn-primary" data-create-class>Create Class</button>
          </div>
        </form>
      </div>
    </div>

    <div class="overlay" id="overlay"></div>

    <!-- <script type="module" src="/main.js"></script> -->
     <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="../../scripts/config.js" type="module"></script>

    <script type="module" src="../../scripts/schoolAdminScripts/classes_scripts/classesModal.js"></script>

    <script type="module" src="../../scripts/schoolAdminScripts/classes_scripts/searchableDropdown.js"></script>

    <script type="module" src="../../scripts/schoolAdminScripts/classes_scripts/classes.js"></script>
    <script type="module" src="../../scripts/schoolAdminScripts/classes_scripts/render_classes.js"></script>
  </body>
</html>
